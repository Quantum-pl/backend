# Quantum backend

## Описание
Это бекенд для маркетплейса оптовой продажи

## Технологии
- **FastAPI** — веб-фреймворк для создания RESTful API.
- **SQLModel** — ORM для работы с базой данных.
- **PostgreSQL** — реляционная база данных для хранения информации.
- **Elasticsearch** — используется для поиска по данным.
- **Pydantic** — для валидации и сериализации данных.
- **Poetry** — менеджер зависимостей и инструмент для упаковки Python-проектов.
- **Docker** — для контейнеризации приложения и управления зависимостями.

## Структура проекта

```plaintext
/app
├── database             # Настройки базы данных и файлы, связанные с моделями
│   ├── engine.py        # Настройка подключения к базе данных
│   ├── models           # Модели данных SQLModel
│   └── repositories     # Репозитории для работы с базой данных
├── routes               # API-маршруты
│   ├── auth             # Аутентификация
│   ├── users            # Маршруты для работы с пользователями
│   ├── orders           # Маршруты для работы с заказами
│   └── products         # Маршруты для работы с продуктами
├── middleware           # Промежуточное ПО
│   └── auth             # Middleware для аутентификации
├── utils                # Утилиты для приложения
│   └── auth             # Вспомогательные функции для аутентификации
├── schemes              # Pydantic-схемы для валидации и сериализации данных
│   ├── auth             # Схемы для аутентификации
│   ├── users            # Схемы для пользователей
│   ├── orders           # Схемы для заказов
│   └── products         # Схемы для продуктов
├── config.py            # Конфиг сервера
└── main.py              # Точка входа для приложения FastAPI
/deploy
├── Dockerfile           # Dockerfile для сборки образа
└── docker-compose.yml   # Конфигурация для Docker Compose
```

## Установка

1. **Клонируйте репозиторий:**
   ```bash
    https://github.com/Quantum-pl/backend
    cd backend
   ```

2. **Создайте файл `.env`** в корне проекта и добавьте переменные для конфигурации (пример в `.env.example`).

3. **Запуск приложения с Docker:**
   ```bash
   docker-compose up -d
   ```

## Деплоймент
Проект настроен для работы с Docker и может быть легко развернут в контейнерах.

1. **Соберите Docker-образ и запустите контейнеры:**
   ```bash
   docker-compose up --build -d
   ```

2. **Проверьте статус контейнеров:**
   ```bash
   docker-compose ps
   ```

3. **Документация API доступна** по адресу [http://localhost:8000/docs](http://localhost:8000/docs) после запуска.

## Основные возможности

- **Регистрация и аутентификация** с JWT токенами.
- **CRUD-операции** для пользователей, заказов и продуктов.
- **Поиск** по базе данных с помощью Elasticsearch.
- **Pydantic-схемы** для валидации данных и защиты API.

## Команды управления

- **Запуск тестов: (Пока недоступно)**
  ```bash
  poetry run pytest
  ```
- **Запуск приложения локально без Docker:**
  ```bash
  poetry run uvicorn app.main:app --reload
  ```

## Лицензия
Все права защищены, копирование строго запрещено.